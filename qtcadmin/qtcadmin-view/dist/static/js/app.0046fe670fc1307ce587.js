webpackJsonp([2],Array(18).concat([function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return u}),a.d(t,"c",function(){return m}),a.d(t,"d",function(){return p});var o=a(167),r=a.n(o),n=a(130),i=a.n(n),s=a(60),l=a(36);i.a.defaults.withCredentials=!0,i.a.interceptors.request.use(function(e){return window.localStorage.getItem("access-token")&&(e.headers.Authorization=window.localStorage.getItem("access-token")),s.a.state.loading=!0,e},function(e){return r.a.reject(e)}),i.a.interceptors.response.use(function(e){return s.a.state.loading=!1,e.data&&e.data.code&&401===parseInt(e.data.code)&&l.a.$emit("goto","/login"),e},function(e){return s.a.state.loading=!1,r.a.reject(e)});var d="http://10.104.102.225:8002",c=function(e,t){return i.a.post(""+d+e,t).then(function(e){return e.data})},u=function(e,t){return i.a.get(""+d+e,{params:t}).then(function(e){return e.data})},m=function(e,t){return i.a.put(""+d+e,t).then(function(e){return e.data})},p=function(e,t){return i.a.delete(""+d+e,{params:t}).then(function(e){return e.data})}},,,,,,,,,,,,,,,function(e,t,a){"use strict";var o=a(18);t.a={login:function(e){return o.a("/api-admin/login",e)},logout:function(e){return o.b("/api-admin/logout",e)},tokenUser:function(e){return o.b("/api-admin/user/currentUser",e)},findList:function(e){return o.b("/api-admin/user",e)},addUser:function(e){return o.a("/api-admin/user",e)},editUser:function(e){return o.c("/api-admin/user",e)},removeUser:function(e){return o.d("/api-admin/user",e)},changeProfile:function(e){return o.a("/api-admin/user/changeProfile",e)}}},,function(e,t,a){"use strict";var o=a(18);t.a={files:function(e){return o.b("/api-admin/file",e)},getUrl:function(e){return o.b("/api-admin/file/getToken",e)},add:function(e){return o.a("/api-admin/file",e)},update:function(e){return o.c("/api-admin/file",e)},remove:function(e){return o.d("/api-admin/file",e)},uploadFile:function(e){return o.a("/api-admin/file/upload",e)}}},function(e,t,a){"use strict";a.d(t,"a",function(){return r});var o=a(1),r=new o.default},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var o=a(1),r=a(270);o.default.use(r.a);var n={loading:!1};t.a=new r.a.Store({state:n})},,,,,,,function(e,t,a){"use strict";var o=a(18);t.a={depts:function(e){return o.b("/api-admin/dept",e)},editDept:function(e){return o.c("/api-admin/dept",e)},deptIdsByRoleId:function(e){return o.b("/api-admin/dept/deptId",e)},addDept:function(e){return o.a("/api-admin/dept",e)},removeDept:function(e){return o.d("/api-admin/dept",e)}}},function(e,t,a){"use strict";var o=a(18);t.a={menus:function(e){return o.b("/api-admin/menu",e)},editMenu:function(e){return o.c("/api-admin/menu",e)},menuIdsByRoleId:function(e){return o.b("/api-admin/menu/roleId",e)},add:function(e){return o.a("/api-admin/menu",e)},remove:function(e){return o.d("/api-admin/menu",e)}}},function(e,t,a){"use strict";var o=a(18);t.a={findList:function(e){return o.b("/api-admin/role",e)},findById:function(e){return o.b("/api-admin/role/userId/"+e)},add:function(e){return o.a("/api-admin/role",e)},update:function(e,t){return o.c("/api-admin/role",t)},removeRole:function(e){return o.d("/api-admin/role",e)},removeBatch:function(e){return o.d("/api/v1/roles/batch/"+e)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(231),a(232);var o=a(5)(a(151),a(260),"data-v-60985b5f",null);e.exports=o.exports},function(e,t,a){"use strict";var o=a(1),r=a(268),n=a(247),i=a.n(n),s=a(246),l=a.n(s),d=a(253),c=a.n(d),u=a(254),m=a.n(u),p=a(255),f=a.n(p),g=a(251),h=a.n(g),v=a(249),b=a.n(v),_=a(250),w=a.n(_),F=a(248),k=a.n(F),C=a(252),$=a.n(C),x=function(e){return a.e(0).then(function(){var t=[a(273)];e.apply(null,t)}.bind(this)).catch(a.oe)};o.default.use(r.a);var y=new r.a({routes:[{path:"/login",name:"登录",component:x},{path:"/",name:"home",component:i.a,redirect:"/dashboard",leaf:!0,menuShow:!0,iconCls:"fa fa-home",children:[{path:"/dashboard",component:l.a,name:"首页",menuShow:!0}]},{path:"/",component:i.a,name:"用户管理",menuShow:!0,leaf:!0,iconCls:"fa fa-user",children:[{path:"/admin/user",component:m.a,name:"用户列表",menuShow:!0}]},{path:"/",component:i.a,name:"菜单管理",menuShow:!0,leaf:!0,iconCls:"fa fa-server",children:[{path:"/admin/menu",component:h.a,name:"菜单列表",menuShow:!0}]},{path:"/",component:i.a,name:"部门管理",menuShow:!0,leaf:!0,iconCls:"fa fa-star",children:[{path:"/admin/dept",component:k.a,name:"部门列表",menuShow:!0}]},{path:"/",component:i.a,name:"角色管理",menuShow:!0,leaf:!0,iconCls:"fa fa-group",children:[{path:"/admin/role",component:c.a,name:"角色管理",menuShow:!0}]},{path:"/",component:i.a,name:"文件管理",menuShow:!0,leaf:!0,iconCls:"fa fa-group",children:[{path:"/admin/file",component:b.a,name:"文件管理",menuShow:!0}]},{path:"/",component:i.a,name:"日志管理",menuShow:!0,leaf:!0,iconCls:"fa fa-group",children:[{path:"/base/log",component:w.a,name:"日志管理",menuShow:!0}]},{path:"/",component:i.a,name:"示例管理",menuShow:!0,leaf:!0,iconCls:"fa fa-group",children:[{path:"/admin/demo",component:w.a,name:"示例管理",menuShow:!0}]},{path:"/",component:i.a,name:"个人信息",menuShow:!0,iconCls:"iconfont icon-setting1",children:[{path:"/user/profile",component:f.a,name:"个人信息",menuShow:!0}]},{path:"/",component:i.a,name:"注册服务",menuShow:!0,iconCls:"iconfont icon-setting1",children:[{path:"/monitor/eureka",component:$.a,name:"服务监控",menuShow:!0}]}]});y.beforeEach(function(e,t,a){if(e.path.startsWith("/login"))window.localStorage.removeItem("access-token"),a();else{window.localStorage.getItem("access-token")?a():a({path:"/login"})}}),t.a=y},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){a(236);var o=a(5)(a(149),a(266),null,null);e.exports=o.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(36),r=a(33);t.default={name:"home",created:function(){var e=this;o.a.$on("setNickName",function(t){e.nickname=t}),o.a.$on("goto",function(t){"/login"===t&&localStorage.removeItem("access-user"),e.$router.push(t)}),this.defaultActiveIndex=this.$route.path},data:function(){return{defaultActiveIndex:"0",nickname:"",avatar:"",collapsed:!1,menus:[]}},methods:{handleSelect:function(e){this.defaultActiveIndex=e},collapse:function(){this.collapsed=!this.collapsed},jumpTo:function(e){-1!=e.indexOf("http")||(this.defaultActiveIndex=e,this.$router.push(e))},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{confirmButtonClass:"el-button--warning"}).then(function(){e.loading=!0,localStorage.removeItem("access-token"),localStorage.removeItem("menus"),r.a.logout("").then(function(t){e.$message.error({showClose:!0,message:t.msg,duration:2e3})}),e.$router.go("/login")}).catch(function(){})}},mounted:function(){this.menus=JSON.parse(window.localStorage.getItem("menus"));var e=this;r.a.tokenUser().then(function(t){e.nickname=t.nickname,e.avatar=t.avatar}).catch(function(){localStorage.removeItem("access-token"),e.$router.go("/login")})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(164),r=a.n(o),n=a(162);t.default={name:"treeTable",props:{data:{type:[Array,Object],required:!0},columns:{type:Array,default:function(){return[]}},evalFunc:Function,evalArgs:Array,expandAll:{type:Boolean,default:!1}},computed:{formatData:function(){var e=void 0;e=Array.isArray(this.data)?this.data:[this.data];var t=this.evalFunc||n.a,a=this.evalArgs?r()([e,this.expandAll],this.evalArgs):[e,this.expandAll];return t.apply(null,a)}},methods:{showRow:function(e){var t=!e.row.parent||e.row.parent._expanded&&e.row.parent._show;return e.row._show=t,t?"animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;":"display:none;"},toggleExpanded:function(e){var t=this.formatData[e];t._expanded=!t._expanded},iconShow:function(e,t){return 0===e&&t.children&&t.children.length>0}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(13),r=a.n(o),n=a(100),i=a.n(n),s=a(67);t.default={name:"treeTableDemo",components:{treeTable:i.a},data:function(){return{loading:!1,addLoading:!1,permsItems:[{key:"get",value:"get"},{key:"post",value:"post"},{key:"put",value:"put"},{key:"delete",value:"delete"}],columns:[{text:"名称",value:"text",width:200}],deptdata:[],editFormVisible:!1,editForm:{},editFormRules:{},addFormVisible:!1,addForm:{}}},methods:{search:function(){var e=this;s.a.depts().then(function(t){e.deptdata=t})},showAddDialog:function(e){this.addForm.parentId=e,this.addFormVisible=!0},showEditDialog:function(e,t){this.editFormVisible=!0,this.editForm=r()({},t.object)},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.loading=!0;var a=r()({},e.editForm);s.a.editDept(a).then(function(t){0===t.code?(e.loading=!1,e.$message,e.$message.success({showClose:!0,message:"修改成功",duration:2e3}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.search()):(e.$message.error({showClose:!0,message:"修改失败",duration:2e3}),e.editFormVisible=!1)},function(t){e.loading=!1,e.editFormVisible=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){t.loading=!0;var o=r()({},e.addForm);s.a.addDept(o).then(function(e){t.loading=!1,e&&0===parseInt(e.code)?(t.$message.success({showClose:!0,message:"新增成功",duration:2e3}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"新增失败",duration:2e3})},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})},remove:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,s.a.removeDept({id:t.id}).then(function(e){a.loading=!1,e&&0===parseInt(e.code)&&(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.search())},function(e){a.loading=!1,a.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})}},mounted:function(){this.search()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(13),r=a.n(o),n=a(35);t.default={name:"List",data:function(){return{filters:{title:""},total:0,page:1,limit:10,loading:!1,fileRows:[],addImageUrl:"",addFormVisible:!1,addLoading:!1,addFormRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}]},addForm:{title:"",content:"",orderNum:"",url:""},editFormVisible:!1,editFormRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}]},editForm:{title:"",content:"",orderNum:""}}},methods:{handleSizeChange:function(e){this.limit=e,this.search()},handleCurrentChange:function(e){this.page=e,this.search()},handleSearch:function(){this.total=0,this.page=1,this.search()},search:function(){var e=this,t={page:e.page,limit:e.limit,title:e.filters.title};e.loading=!0,n.a.files(t).then(function(t){e.loading=!1,t&&t.page.rows&&(e.total=t.page.total,e.fileRows=t.page.rows)},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={}},showEditDialog:function(e,t){this.editFormVisible=!0,this.editForm=r()({},t)},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){t.loading=!0;var o=r()({},e.addForm);n.a.add(o).then(function(e){t.loading=!1,e&&0===parseInt(e.code)?(t.$message.success({showClose:!0,message:"新增成功",duration:2e3}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"新增失败",duration:2e3})},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.loading=!0;var a=r()({},e.editForm);n.a.update(a).then(function(t){t&&0===parseInt(t.code)?(e.$message.success({showClose:!0,message:"修改成功",duration:2e3}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.search()):e.$message.error({showClose:!0,message:"修改失败",duration:2e3})})}})},removeFile:function(e){var t=this,a=this;return n.a.remove({id:e}).then(function(e){0===e.code&&(a.$message.success(e.msg),a.search(t.page))})},beforeAvatarUpload:function(e){var t=this,a="jpg"===e.name.split(".")[1],o="jpeg"===e.name.split(".")[1],r="png"===e.name.split(".")[1],i="gif"===e.name.split(".")[1],s=e.size/1024/1024<5;if(!(a||o||r||i))return console.log("上传模板只能是 jpg/jpeg/png/gif 格式!"),!1;if(!s)return this.$message.error("上传头像图片大小不能超过 5MB!"),!1;var l=new FormData;return l.append("file",e),n.a.uploadFile(l).then(function(e){e&&0===parseInt(e.code)?(t.addImageUrl=e.fileUrl,t.addForm.url=t.addImageUrl,t.$message.success({showClose:!0,message:"上传成功",duration:2e3})):t.$message.error({showClose:!0,message:"上传失败",duration:2e3})}),!1},handleAvatarSuccess:function(e,t){console.log(e)},editBeforeAvatarUpload:function(e){var t=this,a="jpg"===e.name.split(".")[1],o="jpeg"===e.name.split(".")[1],r="png"===e.name.split(".")[1],i="gif"===e.name.split(".")[1],s=e.size/1024/1024<5;if(!(a||o||r||i))return console.log("上传模板只能是 jpg/jpeg/png/gif 格式!"),!1;if(!s)return this.$message.error("上传头像图片大小不能超过 5MB!"),!1;var l=new FormData;return l.append("file",e),n.a.uploadFile(l).then(function(e){e&&0===parseInt(e.code)?(t.editForm.url=e.fileUrl,t.$message.success({showClose:!0,message:"上传成功",duration:2e3})):t.$message.error({showClose:!0,message:"上传失败",duration:2e3})}),!1},editHandleAvatarSuccess:function(e,t){console.log(e)}},mounted:function(){this.search(1)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(13),r=a.n(o),n=a(160);t.default={name:"List",data:function(){return{filters:{username:""},sels:[],loading:!1,limit:10,total:0,page:1,rows:[]}},methods:{handleSizeChange:function(e){this.limit=e,this.search()},handleCurrentChange:function(e){this.page=e,this.search()},handleSearch:function(){this.total=0,this.page=1,this.search()},search:function(e){var t=this,a={limit:t.limit,page:t.page,username:t.filters.username};n.a.list(a).then(function(e){0===e.code&&(t.rows=e.page.rows,t.total=e.page.total)})},remove:function(e){var t=this;n.a.remove({id:e}).then(function(e){0===e.code&&(t.$message.success(e.msg),t.search(t.page))})},selsChange:function(e){this.sels=e},handleBatchRemove:function(e){var t=[];e.forEach(function(e){t.push(e.id)});var a=this,o=r()({},{ids:t});this.$confirm("确认删除选中记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,n.a.batchRemove(o).then(function(e){a.loading=!1,e&&0===parseInt(e.code)&&(a.$message.success({showClose:!0,message:"批量删除成功",duration:1500}),a.search())},function(e){a.loading=!1,a.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})}},mounted:function(){this.search(1)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(13),r=a.n(o),n=a(100),i=a.n(n),s=a(68);t.default={name:"treeTableDemo",components:{treeTable:i.a},data:function(){return{loading:!1,addLoading:!1,permsItems:[{key:"get",value:"get"},{key:"post",value:"post"},{key:"put",value:"put"},{key:"delete",value:"delete"}],columns:[{text:"名称",value:"text",width:200}],menudata:[],editFormVisible:!1,editForm:{},editFormRules:{},addFormVisible:!1,addForm:{}}},methods:{search:function(){var e=this;s.a.menus().then(function(t){e.menudata=t})},showAddDialog:function(e,t){this.addForm.type=2!=t?t+1:t,this.addForm.parentId=e,this.addFormVisible=!0},showEditDialog:function(e,t){this.editFormVisible=!0,this.editForm=r()({},t.object)},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.loading=!0;var a=r()({},e.editForm);s.a.editMenu(a).then(function(t){0===t.code?(e.loading=!1,e.$message,e.$message.success({showClose:!0,message:"修改成功",duration:2e3}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.search()):e.$message.error({showClose:!0,message:"修改失败",duration:2e3})})}})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){t.loading=!0;var o=r()({},e.addForm);s.a.add(o).then(function(e){t.loading=!1,e&&0===parseInt(e.code)?(t.$message.success({showClose:!0,message:"新增成功",duration:2e3}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"新增失败",duration:2e3})},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})},remove:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,s.a.remove({id:t.id}).then(function(e){a.loading=!1,e&&0===parseInt(e.code)&&(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.search())},function(e){a.loading=!1,a.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})}},mounted:function(){this.search()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={data:function(){return{url:"http://10.104.102.225:8001"}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(13),r=a.n(o),n=(a(161),a(69)),i=a(68);t.default={data:function(){return{filters:{roleName:""},role:[],total:0,page:1,limit:10,loading:!1,sels:[],menus:[],menuIds:[],treeProps:{children:"children",label:"text"},editFormVisible:!1,editFormRules:{roleName:[{required:!0,message:"请输入角色名",trigger:"blur"}],roleDesc:[{required:!0,message:"请输入角色描述",trigger:"blur"}]},editForm:{id:0,roleName:"",roleDesc:"",remark:""},addFormVisible:!1,addLoading:!1,addFormRules:{roleName:[{required:!0,message:"请输入角色名",trigger:"blur"}],roleDesc:[{required:!0,message:"请输入角色描述",trigger:"blur"}]},addForm:{roleName:"",roleDesc:"",remark:""}}},methods:{handleSizeChange:function(e){this.limit=e,this.search()},handleCurrentChange:function(e){this.page=e,this.search()},handleSearch:function(){this.total=0,this.page=1,this.search()},search:function(){var e=this,t={page:e.page,limit:10,roleName:e.filters.roleName};e.loading=!0,n.a.findList(t).then(function(t){e.loading=!1,t&&t.rows&&(e.total=t.total,e.role=t.rows)},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},selsChange:function(e){this.sels=e},removeRole:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,n.a.removeRole({id:t.roleId}).then(function(e){a.loading=!1,e&&0===parseInt(e.code)&&(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.search())},function(e){a.loading=!1,a.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})},showEditDialog:function(e,t){this.editFormVisible=!0,this.editForm=r()({},t);var a=this;i.a.menuIdsByRoleId({roleId:t.roleId}).then(function(e){a.setMenuIds(e),a.$nextTick(function(){i.a.menus("").then(function(e){a.menus=e})})})},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(a){if(a){e.loading=!0;var o=r()({},e.editForm);o.menuIds=t.getMenuIds(),n.a.update(o.id,o).then(function(e){t.loading=!1,e&&0===parseInt(e.code)?(t.$message.success({showClose:!0,message:"修改成功",duration:2e3}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"修改失败",duration:2e3})},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})},showAddDialog:function(){this.addFormVisible=!0,this.addForm={};var e=this;i.a.menus("").then(function(t){e.menus=t})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){t.loading=!0;var o=r()({},e.addForm);o.menuIds=t.getMenuIds(),n.a.add(o).then(function(e){t.loading=!1,e&&0===parseInt(e.code)?(t.$message.success({showClose:!0,message:"新增成功",duration:2e3}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"修改失败",duration:2e3})},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})},batchDeleteBook:function(){var e=this.sels.map(function(e){return e.id}).toString(),t=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){t.loading=!0,n.a.removeBatch(e).then(function(e){t.loading=!1,e&&0===parseInt(e.errcode)&&(t.$message.success({showClose:!0,message:"删除成功",duration:1500}),t.search())},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})},getMenuIds:function(){return this.$refs.menuAddTree.getCheckedKeys().concat(this.$refs.menuAddTree.getHalfCheckedKeys())},setMenuIds:function(e){this.$refs.menuAddTree.setCheckedKeys(e,!0)}},mounted:function(){this.handleSearch()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(13),r=a.n(o),n=a(170),i=a.n(n),s=a(33),l=a(69),d=a(67),c=a(35);t.default={data:function(){var e;return e={filters:{name:""},loading:!1,users:[],roles:[],roleIds:[],total:0,page:1,limit:10,addImageUrl:"",editCheckId:"",depts:[],deptId:"",treeProps:{children:"children",label:"text"}},i()(e,"loading",!1),i()(e,"addFormVisible",!1),i()(e,"editFormVisible",!1),i()(e,"editFormRules",{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入作者",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}]}),i()(e,"editForm",{username:"",password:"",name:"",nickname:"",email:"",roleIds:[]}),i()(e,"addFormVisible",!1),i()(e,"addLoading",!1),i()(e,"addFormRules",{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入作者",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}]}),i()(e,"addForm",{username:"",password:"",name:"",nickname:"",email:"",roleIds:[]}),e},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleSizeChange:function(e){this.limit=e,this.search()},handleCurrentChange:function(e){this.page=e,this.search()},handleSearch:function(){this.total=0,this.page=1,this.search()},search:function(){var e=this,t={page:e.page,limit:10,name:e.filters.name};e.loading=!0,s.a.findList(t).then(function(t){e.loading=!1,t&&t.page.rows&&(e.total=t.page.total,e.users=t.page.rows)},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},showAddDialog:function(){var e=this;this.addFormVisible=!0,e.roleIds=[],l.a.findList("").then(function(t){e.roles=t.rows}),d.a.depts("").then(function(t){t.code||(e.depts=t)})},showEditDialog:function(e,t){var a=this;a.roleIds=[],a.depts=[];var o=[t.deptId];this.editFormVisible=!0,this.editForm=r()({},t),l.a.findList("").then(function(e){a.roles=e.rows}),l.a.findById(t.userId).then(function(e){e.code||(a.roleIds=e)}),d.a.depts("").then(function(e){e.code||(a.depts=e)}),a.$nextTick(function(){a.setTreeDeptId(o)})},addSubmit:function(){var e=this,t=this;this.$refs.addForm.validate(function(a){if(a){t.loading=!0;var o=r()({},e.addForm);o.roleIds=t.roleIds,o.deptId=t.editCheckId,s.a.addUser(o).then(function(e){0===e.code?(t.loading=!1,t.$message,t.$message.success({showClose:!0,message:"新增成功",duration:2e3}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"修改失败",duration:2e3})})}})},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.loading=!0;var a=r()({},e.editForm);a.roleIds=e.roleIds,a.deptId=e.editCheckId,s.a.editUser(a).then(function(t){0===t.code?(e.$message.success({showClose:!0,message:"修改成功",duration:2e3}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.search()):e.$message.error({showClose:!0,message:"修改失败",duration:2e3})})}})},removeUser:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.loading=!0,s.a.removeUser({id:t.userId}).then(function(e){a.loading=!1,e&&0===parseInt(e.code)&&(a.$message.success({showClose:!0,message:"删除成功",duration:1500}),a.search())},function(e){a.loading=!1,a.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){a.loading=!1,console.log(e),a.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})},handleAddNodeClick:function(e,t,a){this.editCheckId=e.id,this.$refs.deptAddTree.setCheckedKeys([e.id])},addCheckChange:function(e,t,a){1==t?(this.editCheckId=e.id,this.$refs.deptAddTree.setCheckedKeys([e.id])):this.editCheckId==e.id&&this.$refs.deptAddTree.setCheckedKeys([e.id])},setTreeDeptId:function(e){this.$refs.deptAddTree.setCheckedKeys(e,!0)},beforeAvatarUpload:function(e){var t=this,a="jpg"===e.name.split(".")[1],o="jpeg"===e.name.split(".")[1],r="png"===e.name.split(".")[1],n="gif"===e.name.split(".")[1],i=e.size/1024/1024<5;if(!(a||o||r||n))return console.log("上传模板只能是 jpg/jpeg/png/gif 格式!"),!1;if(!i)return this.$message.error("上传头像图片大小不能超过 5MB!"),!1;var s=new FormData;return s.append("file",e),c.a.uploadFile(s).then(function(e){e&&0===parseInt(e.code)?(t.addImageUrl=e.fileUrl,t.addForm.avatar=t.addImageUrl,t.$message.success({showClose:!0,message:"上传成功",duration:2e3})):t.$message.error({showClose:!0,message:"上传失败",duration:2e3})}),!1},handleAvatarSuccess:function(e,t){console.log(e)},editBeforeAvatarUpload:function(e){var t=this,a="jpg"===e.name.split(".")[1],o="jpeg"===e.name.split(".")[1],r="png"===e.name.split(".")[1],n="gif"===e.name.split(".")[1],i=e.size/1024/1024<5;if(!(a||o||r||n))return console.log("上传模板只能是 jpg/jpeg/png/gif 格式!"),!1;if(!i)return this.$message.error("上传头像图片大小不能超过 5MB!"),!1;var s=new FormData;return s.append("file",e),c.a.uploadFile(s).then(function(e){e&&0===parseInt(e.code)?(t.editForm.avatar=e.fileUrl,t.$message.success({showClose:!0,message:"上传成功",duration:2e3})):t.$message.error({showClose:!0,message:"上传失败",duration:2e3})}),!1},editHandleAvatarSuccess:function(e,t){console.log(e)}},mounted:function(){this.handleSearch()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(33),r=(a(36),a(35));t.default={data:function(){return{loading:!1,form:{useranme:"",nickname:"",name:"",userno:"",email:"",avatar:"",userId:""},rules:{nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]}}},methods:{handleSaveProfile:function(){var e=this;e.$refs.form.validate(function(t){if(t){e.loading=!0;var a={userId:e.form.userId,nickname:e.form.nickname,avatar:e.form.avatar};o.a.changeProfile(a).then(function(t){0===t.code?(location.reload(),e.$message.success({showClose:!0,message:"修改成功",duration:2e3})):e.$message.error({showClose:!0,message:"修改失败",duration:2e3})})}})},beforeAvatarUpload:function(e){var t=this,a="jpg"===e.name.split(".")[1],o="jpeg"===e.name.split(".")[1],n="png"===e.name.split(".")[1],i="gif"===e.name.split(".")[1],s=e.size/1024/1024<5;if(!(a||o||n||i))return console.log("上传模板只能是 jpg/jpeg/png/gif 格式!"),!1;if(!s)return this.$message.error("上传头像图片大小不能超过 5MB!"),!1;var l=new FormData;return l.append("file",e),r.a.uploadFile(l).then(function(e){e&&0===parseInt(e.code)?(t.form.avatar=e.fileUrl,t.$message.success({showClose:!0,message:"上传成功",duration:2e3})):t.$message.error({showClose:!0,message:"上传失败",duration:2e3})}),!1},handleAvatarSuccess:function(e,t){console.log(e)}},mounted:function(){var e=this;o.a.tokenUser().then(function(t){e.form.useranme=t.username,e.form.nickname=t.nickname,e.form.email=t.email,e.form.name=t.name,e.form.userno=t.userno,e.form.avatar=t.avatar,e.form.userId=t.id})}}},function(e,t,a){"use strict";var o=a(18);t.a={list:function(e){return o.b("/api-base/log",e)},remove:function(e){return o.d("/api-base/log",e)},batchRemove:function(e){return o.a("/api-base/log/batchRemove",e)}}},function(e,t,a){"use strict"},function(e,t,a){"use strict";function o(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=[];return n()(e).forEach(function(e){void 0===e._expanded&&i.default.set(e,"_expanded",t);var n=1;if(void 0!==r&&null!==r&&(n=r+1),i.default.set(e,"_level",n),a&&i.default.set(e,"parent",a),s.push(e),e.children&&e.children.length>0){var l=o(e.children,t,e,n);s=s.concat(l)}}),s}t.a=o;var r=a(165),n=a.n(r),i=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),r=a(107),n=a.n(r),i=a(101),s=a(60),l=a(102),d=a.n(l),c=a(103),u=(a.n(c),a(105)),m=(a.n(u),a(106)),p=(a.n(m),a(104));a.n(p);o.default.config.productionTip=!1,o.default.use(d.a),new o.default({el:"#app",router:i.a,store:s.a,template:"<App/>",components:{App:n.a}}),o.default.directive("has",{bind:function(e,t){o.default.prototype.$_has(t.value)||e.parentNode.removeChild(e)}}),o.default.prototype.$_has=function(e){var t=!1,a=localStorage.getItem("perms");if(void 0==a||null==a)return!1;for(var o=JSON.parse(a),r=0;r<o.length;r++)if(o[r].perms.indexOf(e)>-1){t=!0;break}return t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,a){var o=a(5)(null,a(265),null,null);e.exports=o.exports},function(e,t,a){a(233);var o=a(5)(a(150),a(262),"data-v-77b099fa",null);e.exports=o.exports},function(e,t,a){var o=a(5)(a(152),a(259),null,null);e.exports=o.exports},function(e,t,a){a(237);var o=a(5)(a(153),a(267),null,null);e.exports=o.exports},function(e,t,a){a(234);var o=a(5)(a(154),a(263),"data-v-7b7368a6",null);e.exports=o.exports},function(e,t,a){var o=a(5)(a(155),a(261),null,null);e.exports=o.exports},function(e,t,a){var o=a(5)(a(156),a(256),null,null);e.exports=o.exports},function(e,t,a){a(230);var o=a(5)(a(157),a(258),"data-v-2b17a37a",null);e.exports=o.exports},function(e,t,a){a(229);var o=a(5)(a(158),a(257),"data-v-2a3db28e",null);e.exports=o.exports},function(e,t,a){a(235);var o=a(5)(a(159),a(264),"data-v-a8cc9b2e",null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("iframe",{attrs:{src:e.url,id:"show",width:"100%",height:"780px",frameborder:"0",name:"showHere"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("用户列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{staticStyle:{"min-width":"240px"},attrs:{placeholder:"姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSearch(t)}},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("添加")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.users,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"100",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"100",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"userno",label:"工号",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"部门",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"180",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"图像",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.avatar,height:"48"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.removeUser(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{layout:"total,sizes, prev,pager, next,jumper",background:"","page-size":e.limit,total:e.total,"page-sizes":[10,20,30]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.nickname,callback:function(t){e.$set(e.addForm,"nickname",t)},expression:"addForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号",prop:"userno"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.userno,callback:function(t){e.$set(e.addForm,"userno",t)},expression:"addForm.userno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.birth,callback:function(t){e.$set(e.addForm,"birth",t)},expression:"addForm.birth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.mobile,callback:function(t){e.$set(e.addForm,"mobile",t)},expression:"addForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{type:"email"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[a("el-checkbox-group",{model:{value:e.roleIds,callback:function(t){e.roleIds=t},expression:"roleIds"}},e._l(e.roles,function(t){return a("el-checkbox",{key:t.roleId,attrs:{label:t.roleId}},[e._v(e._s(t.roleName)+"\n            ")])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("el-tree",{ref:"deptAddTree",attrs:{data:e.depts,"node-key":"id","show-checkbox":"",props:e.treeProps},on:{"node-click":e.handleAddNodeClick,"check-change":e.addCheckChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片",prop:"avatar"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"上传模板只能是 jpg/jpeg/png/gif 格式，且不超过5MB"},model:{value:e.addForm.avatar,callback:function(t){e.$set(e.addForm,"avatar",t)},expression:"addForm.avatar"}}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"}),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.addImageUrl?a("img",{staticClass:"avatar",attrs:{src:e.addImageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.nickname,callback:function(t){e.$set(e.editForm,"nickname",t)},expression:"editForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号",prop:"userno"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.userno,callback:function(t){e.$set(e.editForm,"userno",t)},expression:"editForm.userno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期","value-format":"yyyy-MM-dd"},model:{value:e.editForm.birth,callback:function(t){e.$set(e.editForm,"birth",t)},expression:"editForm.birth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.mobile,callback:function(t){e.$set(e.editForm,"mobile",t)},expression:"editForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{type:"email"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[a("el-checkbox-group",{model:{value:e.roleIds,callback:function(t){e.roleIds=t},expression:"roleIds"}},e._l(e.roles,function(t){return a("el-checkbox",{key:t.roleId,attrs:{label:t.roleId}},[e._v(e._s(t.roleName)+"\n            ")])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("el-tree",{ref:"deptAddTree",attrs:{data:e.depts,"node-key":"id","show-checkbox":"",props:e.treeProps},on:{"node-click":e.handleAddNodeClick,"check-change":e.addCheckChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片",prop:"avatar"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.avatar,callback:function(t){e.$set(e.editForm,"avatar",t)},expression:"editForm.avatar"}}),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.editHandleAvatarSuccess,"before-upload":e.editBeforeAvatarUpload}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传模板只能是 jpg/jpeg/png/gif 格式，且不超过5MB")]),e._v(" "),e.editForm.avatar?a("img",{staticClass:"avatar",attrs:{src:e.editForm.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("角色管理")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"角色名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSearch(t)}},model:{value:e.filters.roleName,callback:function(t){e.$set(e.filters,"roleName",t)},expression:"filters.roleName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.role,border:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"角色名",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.removeRole(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{layout:"total,sizes, prev,pager, next,jumper",background:"","page-size":e.limit,total:e.total,"page-sizes":[10,20,30]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"角色名",prop:"roleName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.roleName,callback:function(t){e.$set(e.editForm,"roleName",t)},expression:"editForm.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.roleDesc,callback:function(t){e.$set(e.editForm,"roleDesc",t)},expression:"editForm.roleDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限"}},[a("el-tree",{ref:"menuAddTree",attrs:{data:e.menus,"show-checkbox":"","node-key":"id",props:e.treeProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"角色名",prop:"roleName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.roleDesc,callback:function(t){e.$set(e.addForm,"roleDesc",t)},expression:"addForm.roleDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限"}},[a("el-tree",{ref:"menuAddTree",attrs:{data:e.menus,"show-checkbox":"","node-key":"id",props:e.treeProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("部门列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAddDialog(0)}}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("tree-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.deptdata,columns:e.columns,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"排序",prop:"object.orderNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showAddDialog(t.row.id)}}},[e._v("增加")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.remove(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.orderNum,callback:function(t){e.$set(e.editForm,"orderNum",t)},expression:"editForm.orderNum"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",e._b({attrs:{data:e.formatData,"row-style":e.showRow}},"el-table",e.$attrs,!1),[0===e.columns.length?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row._level,function(e){return a("span",{key:e,staticClass:"ms-tree-space"})}),e._v(" "),e.iconShow(0,t.row)?a("span",{staticClass:"tree-ctrl",on:{click:function(a){e.toggleExpanded(t.$index)}}},[t.row._expanded?a("i",{staticClass:"el-icon-minus"}):a("i",{staticClass:"el-icon-plus"})]):e._e(),e._v("\n      "+e._s(t.$index)+"\n    ")]}}])}):e._l(e.columns,function(t,o){return a("el-table-column",{key:t.value,attrs:{label:t.text,width:t.width},scopedSlots:e._u([{key:"default",fn:function(r){return[e._l(r.row._level,function(t){return 0===o?a("span",{key:t,staticClass:"ms-tree-space"}):e._e()}),e._v(" "),e.iconShow(o,r.row)?a("span",{staticClass:"tree-ctrl",on:{click:function(t){e.toggleExpanded(r.$index)}}},[r.row._expanded?a("i",{staticClass:"el-icon-minus"}):a("i",{staticClass:"el-icon-plus"})]):e._e(),e._v("\n      "+e._s(r.row[t.value])+"\n    ")]}}])})}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("菜单列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAddDialog(0,-1)}}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("tree-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.menudata,columns:e.columns,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"类型",prop:"object.type"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.object.type?a("el-tag"):e._e(),e._v(" "),0===t.row.object.type?a("el-tag",[e._v("目录")]):e._e(),e._v(" "),1===t.row.object.type?a("el-tag",[e._v("菜单")]):e._e(),e._v(" "),2===t.row.object.type?a("el-tag",[e._v("操作")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"路径",prop:"object.url"}}),e._v(" "),a("el-table-column",{attrs:{label:"图标",prop:"object.icon"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限",prop:"object.perms"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showAddDialog(t.row.id,t.row.object.type)}}},[e._v("增加")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.remove(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[a("el-radio",{attrs:{label:0}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("操作")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径",prop:"url"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.url,callback:function(t){e.$set(e.addForm,"url",t)},expression:"addForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限",prop:"perms"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.perms,callback:function(t){e.$set(e.addForm,"perms",t)},expression:"addForm.perms"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.icon,callback:function(t){e.$set(e.addForm,"icon",t)},expression:"addForm.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[a("el-radio",{attrs:{label:0}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("api")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径",prop:"url"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径",prop:"url"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.perms,callback:function(t){e.$set(e.editForm,"perms",t)},expression:"editForm.perms"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.icon,callback:function(t){e.$set(e.editForm,"icon",t)},expression:"editForm.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.orderNum,callback:function(t){e.$set(e.editForm,"orderNum",t)},expression:"editForm.orderNum"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[a("div",{staticClass:"logobox"},[a("span",[e._v("培训管理系统")])]),e._v(" "),a("div",{staticClass:"menu-toggle",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"fa fa-bars"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"fa fa-bars fa-rotate-90"})]),e._v(" "),a("div",{staticClass:"topbar-account top-button"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"用户头像",placement:"bottom"}},[null==e.avatar||""==e.avatar?[a("i",{staticClass:"iconfont icon-user userinfo-inner "})]:[a("img",{staticClass:"top-userImg",attrs:{src:e.avatar+"?imageView2/1/w/80/h/80"}})]],2),e._v(" "),a("el-dropdown",[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v("\n          "+e._s(e.nickname)+"\n          "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{on:{click:function(t){e.jumpTo("/user/profile")}}},[a("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("个人信息")])])]),e._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:{showSidebar:!e.collapsed}},[a("el-menu",{attrs:{"default-active":e.defaultActiveIndex,router:"",collapse:e.collapsed},on:{select:e.handleSelect}},[e._l(e.menus,function(t,o){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?a("el-menu-item",{class:e.$route.path==t.children[0].path?"is-active":"",attrs:{index:t.children[0].path}},[a("i",{class:t.iconCls}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].name))])]):e._e():a("el-submenu",{attrs:{index:o+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.menuShow?a("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path}},[a("i",{class:t.iconCls}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()})],2)]:e._e()})],2)],1),e._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:e.$store.state.loading,expression:"$store.state.loading"}],staticClass:"content-container",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0)"}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"wrap"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("日志管理")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wrap-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSearch(t)}},model:{value:e.filters.username,callback:function(t){e.$set(e.filters,"username",t)},expression:"filters.username"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:function(t){e.handleBatchRemove(e.sels)}}},[e._v("批量删除")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.rows,border:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户",prop:"username",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"功能描述",prop:"operation",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"用时(ms)",prop:"time",align:"center",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"方法",prop:"method",align:"center",width:"400"}}),e._v(" "),a("el-table-column",{attrs:{label:"IP",prop:"ip",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作时间",prop:"gmtCreate",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.remove(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{layout:"total,sizes, prev,pager, next,jumper",background:"","page-size":e.limit,total:e.total,"page-sizes":[10,20,30]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24,loading:e.loading}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("个人信息")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.useranme,callback:function(t){e.$set(e.form,"useranme",t)},expression:"form.useranme"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.userno,callback:function(t){e.$set(e.form,"userno",t)},expression:"form.userno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"nickname",label:"昵称"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片",prop:"avatar"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form.avatar"}}),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传模板只能是 jpg/jpeg/png/gif 格式，且不超过5MB")]),e._v(" "),e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:e.handleSaveProfile}},[e._v("修改并保存")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.$router.back(-1)}}},[e._v("《《《 返回")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])])],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"wrap"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("文件管理")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wrap-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"标题"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSearch(t)}},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.fileRows,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"预览",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.url,height:"40"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型",width:"80",prop:"type",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("el-tag",[e._v("图片")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"标题",prop:"title",width:"240",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容",prop:"content",width:"420",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"排序",prop:"orderNum",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.removeFile(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{layout:"total,sizes, prev,pager, next,jumper",background:"","page-size":e.limit,total:e.total,"page-sizes":[10,20,30]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.orderNum,callback:function(t){e.$set(e.addForm,"orderNum",t)},expression:"addForm.orderNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片",prop:"url"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"上传模板只能是 jpg/jpeg/png/gif 格式，且不超过5MB"},model:{value:e.addForm.url,callback:function(t){e.$set(e.addForm,"url",t)},expression:"addForm.url"}}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"}),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.addImageUrl?a("img",{staticClass:"avatar",attrs:{src:e.addImageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.orderNum,callback:function(t){e.$set(e.editForm,"orderNum",t)},expression:"editForm.orderNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片",prop:"url"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}}),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.editHandleAvatarSuccess,"before-upload":e.editBeforeAvatarUpload}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传模板只能是 jpg/jpeg/png/gif 格式，且不超过5MB")]),e._v(" "),e.editForm.url?a("img",{staticClass:"avatar",attrs:{src:e.editForm.url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}}]),[163]);
//# sourceMappingURL=app.0046fe670fc1307ce587.js.map